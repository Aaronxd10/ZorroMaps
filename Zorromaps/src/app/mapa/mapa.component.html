<div class="container">
  <!-- Título "Mapa" -->
  <div class="btn-logout">
    <button (click)="logout()">
      <i class="bi bi-door-closed"></i> Logout
    </button>
  </div>
  <h1 class="display-4">MAPA</h1>

 <!-- Barra de búsqueda -->
 <div class="input-group mb-3">
  <input type="text" class="form-control" placeholder="Buscar lugar" #busquedaInput (keyup)="buscarLugares($event)">
  <div class="input-group-append">
    <button class="btn btn-primary" type="button" (click)="buscar()">Buscar</button>
  </div>
</div>

<div *ngIf="sugerencias.length > 0" class="sugerencias">
  <ul class="list-group">
    <li class="list-group-item" *ngFor="let sugerencia of sugerencias"
     (click)="seleccionarSugerencia(sugerencia, busquedaInput)">{{ sugerencia }}</li>
  </ul>
</div>

<div class="btn-group btn-group-toggle" data-toggle="buttons">
  <div class="locaciones-label">
    <strong>Locaciones:</strong>
  </div>
  <div class="btn btn-secondary" (click)="toggleContent('edificios')"[class.active]="activeButton === 'edificios'">
    <input type="radio" name="options" id="edificios"> Edificios Académicos
  </div>
  <div class="btn btn-secondary" (click)="toggleContent('laboratorios')"[class.active]="activeButton === 'laboratorios'">
    <input type="radio" name="options" id="laboratorios"> Laboratorios
  </div>
  <div class="btn btn-secondary" (click)="toggleContent('recursos')"[class.active]="activeButton === 'recursos'">
    <input type="radio" name="options" id="recursos"> Recursos para Estudiantes
  </div>
  <div class="btn btn-secondary" (click)="toggleContent('areas')"[class.active]="activeButton === 'areas'">
    <input type="radio" name="options" id="areas-deporte"> Áreas Recreativas y Deportivas
  </div>
  <div class="btn btn-secondary" (click)="toggleContent('servicios')"[class.active]="activeButton === 'servicios'">
    <input type="radio" name="options" id="servicios"> Servicios y Estacionamientos
  </div>
  <div class="btn btn-secondary" (click)="toggleContent('salas')"[class.active]="activeButton === 'salas'">
    <input type="radio" name="options" id="salas"> Salas Audiovisuales
  </div>
</div>


<!-- Div para mostrar los edificios -->
<div *ngIf="activeButton === 'edificios'">
  <!-- Contenido de los edificios aquí -->
  <label class="btn btn-secondary" (click)="calcularRuta('Edificio B',  marcadores[25].intermediatePoints, marcadores[25].steps)">
    <input type="radio" name="options" id="edificio-b"> Edificio B
  </label>
  <label class="btn btn-secondary" (click)="calcularRuta('Edificio C',  marcadores[10].intermediatePoints, marcadores[10].steps)">
    <input type="radio" name="options" id="edificio-c"> Edificio C
  </label>
  <label class="btn btn-secondary" (click)="calcularRuta('Edificio F',  marcadores[9].intermediatePoints, marcadores[9].steps)">
    <input type="radio" name="options" id="edificio-f"> Edificio F
  </label>
  <label class="btn btn-secondary" (click)="calcularRuta('Edificio G',  marcadores[11].intermediatePoints, marcadores[11].steps)">
    <input type="radio" name="options" id="edificio-g"> Edificio G
  </label>
  <label class="btn btn-secondary" (click)="calcularRuta('Edificio H',  marcadores[22].intermediatePoints, marcadores[22].steps)">
    <input type="radio" name="options" id="edificio-h"> Edificio H
  </label>
  <label class="btn btn-secondary" (click)="calcularRuta('Edificio I',  marcadores[15].intermediatePoints, marcadores[15].steps)">
    <input type="radio" name="options" id="edificio-i"> Edificio I
  </label>
  <label class="btn btn-secondary" (click)="calcularRuta('Edificio J',  marcadores[13].intermediatePoints, marcadores[13].steps)">
    <input type="radio" name="options" id="edificio-j"> Edificio J
  </label>
  <label class="btn btn-secondary" (click)="calcularRuta('Edificio K',  marcadores[20].intermediatePoints, marcadores[20].steps)">
    <input type="radio" name="options" id="edificio-k"> Edificio K
  </label>
  <label class="btn btn-secondary" (click)="calcularRuta('Edificio X',  marcadores[21].intermediatePoints, marcadores[21].steps)">
    <input type="radio" name="options" id="edificio-x"> Edificio X
  </label>
</div>

<!-- Div para mostrar los laboratorios -->
<div *ngIf="activeButton === 'laboratorios'">
  <!-- Contenido de los laboratorios aquí -->
  <label class="btn btn-secondary" (click)="calcularRuta('Laboratorio de Quimica',  marcadores[8].intermediatePoints, marcadores[8].steps)">
    <input type="radio" name="options" id="laboratorio-de-quimica"> Laboratorio de Química
  </label>
  <label class="btn btn-secondary" (click)="calcularRuta('Laboratorio de Electronica',  marcadores[16].intermediatePoints, marcadores[16].steps)">
    <input type="radio" name="options" id="laboratorio-de-electronica"> Laboratorio de Electrónica
  </label>
  <label class="btn btn-secondary" (click)="calcularRuta('Laboratorio de Ingenieria Industrial',  marcadores[18].intermediatePoints, marcadores[18].steps)">
    <input type="radio" name="options" id="laboratorio-de-ingenieria-industrial"> Laboratorio de Ingeniería Industrial
  </label>
   <label class="btn btn-secondary" (click)="calcularRuta('Centro de Computo',  marcadores[19].intermediatePoints, marcadores[19].steps)">
    <input type="radio" name="options" id="centro-de-computo"> Centro de Cómputo
  </label>
  <label class="btn btn-secondary" (click)="calcularRuta('Laboratorio de Matematicas',  marcadores[12].intermediatePoints, marcadores[12].steps)">
    <input type="radio" name="options" id="laboratorio-de-matematicas"> Laboratorio de Matemáticas
  </label>
</div>
<div *ngIf="activeButton === 'recursos'">
  <!-- Contenido de los recursos aquí -->
  <label class="btn btn-secondary" (click)="calcularRuta('Cafeteria',  marcadores[5].intermediatePoints, marcadores[5].steps)">
    <input type="radio" name="options" id="cafeteria"> Cafetería
  </label>
  <label class="btn btn-secondary" (click)="calcularRuta('Auditorio',  marcadores[6].intermediatePoints, marcadores[6].steps)">
    <input type="radio" name="options" id="auditorio"> Auditorio
  </label>
  <label class="btn btn-secondary" (click)="calcularRuta('Centro de Copiado',  marcadores[4].intermediatePoints, marcadores[4].steps)">
    <input type="radio" name="options" id="centro-de-copiado"> Centro de Copiado
  </label>
  <label class="btn btn-secondary" (click)="calcularRuta('Direccion', marcadores[0].intermediatePoints, marcadores[0].steps)">
    <input type="radio" name="options" id="direccion"> Dirección
</label>
<label class="btn btn-secondary" (click)="calcularRuta('Servicios Escolares', marcadores[1].intermediatePoints, marcadores[1].steps)">
  <input type="radio" name="options" id="servicios-escolares"> Servicios Escolares
</label>
<label class="btn btn-secondary" (click)="calcularRuta('Centro De Informacion',  marcadores[3].intermediatePoints, marcadores[3].steps)">
  <input type="radio" name="options" id="centro-de-informacion"> Centro de Información
</label>

<label class="btn btn-secondary" (click)="calcularRuta('Centro de Idiomas', marcadores[7].intermediatePoints, marcadores[7].steps)">
  <input type="radio" name="options" id="centro-de-idiomas"> Centro de Idiomas
</label>

<label class="btn btn-secondary" (click)="calcularRuta('Division de Estudios Profesionales',  marcadores[14].intermediatePoints, marcadores[14].steps)">
  <input type="radio" name="options" id="division-de-estudios-profesionales"> División de Estudios Profesionales
</label>

</div>
<div *ngIf="activeButton === 'areas'">
  <!-- Contenido de las áreas de deporte aquí -->
  <label class="btn btn-secondary" (click)="calcularRuta('Cancha', marcadores[2].intermediatePoints, marcadores[2].steps)">
    <input type="radio" name="options" id="cancha"> Cancha
  </label>
  <label class="btn btn-secondary" (click)="calcularRuta('Cancha Basketball',  marcadores[26].intermediatePoints, marcadores[26].steps)">
    <input type="radio" name="options" id="cancha-basketball"> Cancha Basketball
  </label>
  <label class="btn btn-secondary" (click)="calcularRuta('Salon de Danza',  marcadores[28].intermediatePoints, marcadores[28].steps)">
    <input type="radio" name="options" id="salon-danza"> Salon de Danza
  </label>
  <label class="btn btn-secondary" (click)="calcularRuta('Alberca',  marcadores[17].intermediatePoints, marcadores[17].steps)">
    <input type="radio" name="options" id="alberca"> Alberca
  </label>


</div>
<div *ngIf="activeButton === 'servicios'">
  <!-- Contenido de los servicios aquí -->
  <label class="btn btn-secondary" (click)="calcularRuta('Enfermería',  marcadores[29].intermediatePoints, marcadores[29].steps)">
    <input type="radio" name="options" id="enfermeria"> Enfermería
  </label>
  <label class="btn btn-secondary" (click)="calcularRuta('Almacén',  marcadores[31].intermediatePoints, marcadores[31].steps)">
    <input type="radio" name="options" id="almacen"> Almacén
  </label>
  <label class="btn btn-secondary" (click)="calcularRuta('Estacionamiento A',  marcadores[27].intermediatePoints, marcadores[27].steps)">
    <input type="radio" name="options" id="estacionamiento-a"> Estacionamiento A
  </label>
  <label class="btn btn-secondary" (click)="calcularRuta('Estacionamiento B',  marcadores[30].intermediatePoints, marcadores[30].steps)">
    <input type="radio" name="options" id="estacionamiento-b"> Estacionamiento B
  </label>
  <label class="btn btn-secondary" (click)="calcularRuta('Estacionamiento maestros',  marcadores[32].intermediatePoints, marcadores[32].steps)">
    <input type="radio" name="options" id="estacionamiento-maestros"> Estacionamiento Maestros
  </label>
</div>
<div *ngIf="activeButton === 'salas'">
  <!-- Contenido de las salas aquí -->
  <label class="btn btn-secondary" (click)="calcularRuta('Sala Audiovisual 2',  marcadores[23].intermediatePoints, marcadores[23].steps)">
    <input type="radio" name="options" id="sala-audiovisual-2"> Sala Audiovisual 2
  </label>
  <label class="btn btn-secondary" (click)="calcularRuta('Sala Audiovisual 3',  marcadores[24].intermediatePoints, marcadores[24].steps)">
    <input type="radio" name="options" id="sala-audiovisual-3"> Sala Audiovisual 3
  </label>
</div>



  <div class="container2">

  <!-- Mini mapa con Mapbox -->
  <div id="map" style="height: 450px;"></div>


  <!-- Cuadro de direcciones -->
  <div class="card mt-3">
    <div class="card-body">
      <h4 class="card-title">Pasos a seguir:</h4>
      <div id="ruta-container" style="height: 350px; overflow-y: auto;">
        <!-- La ruta se mostrará aquí dinámicamente -->
      </div>
    </div>
  </div>
  </div>


</div>

